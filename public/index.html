<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberEdu - Dashboard</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="student.css">
</head>
<body>
    <!-- ============================================
         CYBER SECURITY COURSE FEEDBACK - DASHBOARD
         ============================================ -->

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">CyberEdu</div>
        <ul class="nav-menu">
            <li class="nav-item active">
                <span>üìä Dashboard</span>
            </li>
            
            <!-- Notification Toggle Button -->
            <li class="notification-toggle" id="notificationToggle">
                <div class="toggle-label">
                    <span>üîî</span>
                    <span>Notifications</span>
                </div>
                <div class="toggle-switch" id="notificationSwitch">
                    <div class="toggle-slider"></div>
                </div>
            </li>
            
            <!-- Logout -->
            <li class="nav-item logout-item" id="logoutBtn">
                <span>üö™ Logout</span>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <h1 id="dashboardTitle">Dashboard</h1>
            <div class="user-info">
                <div class="theme-toggler" id="themeToggler">
                    <span class="active">‚òÄÔ∏è</span>
                    <span>üåô</span>
                </div>
                <div>
                    <span id="welcomeMsg" style="font-weight: 600;"></span>
                </div>
            </div>
        </div>

        <!-- Role Indicator (Will be updated dynamically) -->
        <div id="roleIndicator" class="role-indicator" style="display: none;">
            <div class="indicator" id="indicatorContent">
                <!-- Will be filled dynamically -->
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <!-- Admin Only Cards -->
            <div id="activeStudentsCard" class="stat-card admin-only">
                <div class="stat-title">Active Students</div>
                <div class="stat-number" id="activeStudents">0</div>
            </div>
            <div id="totalFeedbackCard" class="stat-card admin-only">
                <div class="stat-title">Total Feedback</div>
                <div class="stat-number" id="totalFeedback">0</div>
            </div>
            
            <!-- Visible for All Users -->
            <div class="stat-card">
                <div class="stat-title">Total Courses</div>
                <div class="stat-number" id="totalCourses">8</div>
            </div>
            <div class="stat-card">
                <div class="stat-title">Avg Rating</div>
                <div class="stat-number" id="avgRating">0.0</div>
            </div>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Feedback Form -->
            <section class="feedback-form">
                <h2>Add Course Feedback</h2>
                <form id="feedbackForm">
                    <div class="form-group">
                        <label for="studentName">Your Name:</label>
                        <input type="text" id="studentName" name="studentName" 
                               class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="course">Select Course:</label>
                        <select id="course" name="course" required>
                            <option value="">-- Choose Course --</option>
                            <option value="secure-web-dev">Secure Web Development</option>
                            <option value="security-software">Security Software Engineering</option>
                            <option value="operating-system">Operating System</option>
                            <option value="network-intro">Introduction To Network</option>
                            <option value="cyber-fundamentals">Cyber Security Fundamental</option>
                            <option value="secure-coding">Secure Coding</option>
                            <option value="database-fundamental">Database Fundamental</option>
                            <option value="cyber-laws">Cybersecurity policies and laws</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="rating">Course Rating:</label>
                        <div class="rating-stars">
                            <span class="star" onclick="Dashboard.setRating(1)">‚òÖ</span>
                            <span class="star" onclick="Dashboard.setRating(2)">‚òÖ</span>
                            <span class="star" onclick="Dashboard.setRating(3)">‚òÖ</span>
                            <span class="star" onclick="Dashboard.setRating(4)">‚òÖ</span>
                            <span class="star" onclick="Dashboard.setRating(5)">‚òÖ</span>
                        </div>
                        <input type="hidden" id="rating" name="rating" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Your Feedback:</label>
                        <textarea id="message" name="message" rows="3" required
                                  placeholder="Share your experience with this course..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="difficulty">Difficulty Level:</label>
                        <select id="difficulty" name="difficulty">
                            <option value="easy">Easy</option>
                            <option value="medium">Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-submit">Submit Feedback</button>
                </form>
            </section>

            <!-- Feedback List -->
            <section class="feedback-list">
                <div class="section-header">
                    <h2 id="feedbackTitle">Recent Feedback</h2>
                    <div class="filters">
                        <select id="filterCourse">
                            <option value="">All Courses</option>
                            <option value="secure-web-dev">Secure Web Development</option>
                            <option value="security-software">Security Software Engineering</option>
                            <option value="operating-system">Operating System</option>
                            <option value="network-intro">Introduction To Network</option>
                            <option value="cyber-fundamentals">Cyber Security Fundamental</option>
                            <option value="secure-coding">Secure Coding</option>
                            <option value="database-fundamental">Database Fundamental</option>
                            <option value="cyber-laws">Cybersecurity policies and laws</option>
                        </select>
                        
                        <select id="sortFeedback">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="highest-rating">Highest Rating</option>
                            <option value="lowest-rating">Lowest Rating</option>
                        </select>
                    </div>
                </div>

                <div id="feedbackContainer" class="feedback-container">
                    <!-- Will be filled dynamically -->
                    <div id="noFeedbackMessage" style="text-align: center; color: var(--clr-info-dark); padding: 2rem;">
                        Loading feedback...
                    </div>
                </div>
            </section>
        </div>

        <!-- Data Table (Admin Only) -->
        <section id="dataTableSection" class="data-table admin-only">
            <div class="table-header">
                <h2>Course Ratings Overview (All Users)</h2>
                <div class="table-filters">
                    <select id="filterCategory">
                        <option value="">All Categories</option>
                        <option value="Cybersecurity">Cybersecurity</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Networking">Networking</option>
                        <option value="Database">Database</option>
                    </select>
                    
                    <select id="filterStatus">
                        <option value="">All Status</option>
                        <option value="Active">Active</option>
                        <option value="No Feedback">No Feedback</option>
                    </select>
                    
                    <select id="sortTable">
                        <option value="name-asc">Course Name (A-Z)</option>
                        <option value="name-desc">Course Name (Z-A)</option>
                        <option value="rating-desc">Highest Rating</option>
                        <option value="rating-asc">Lowest Rating</option>
                        <option value="feedback-desc">Most Feedback</option>
                        <option value="feedback-asc">Least Feedback</option>
                    </select>
                </div>
            </div>
            
            <table>
                <thead>
                    <tr>
                        <th>Course Name</th>
                        <th>Category</th>
                        <th>Avg Rating</th>
                        <th>Difficulty</th>
                        <th>Total Feedback</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="courseTableBody">
                    <!-- Will be filled dynamically -->
                </tbody>
            </table>
        </section>
    </div>

    <!-- JavaScript Files -->
    <script src="dashboard.js"></script>
    <script src="admin.js"></script>
    <script src="student.js"></script>
    
    <script>
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            Dashboard.initializeApp();
        });
    </script>
</body>
</html>